.form-group
  .col-lg-7
    %input.form-control{type: 'text', name: 'chist[title]', value: defined?(chist) ? chist.title : (params['title'] || ''), required: true, placeholder: I18n.t('chists.title',)}
  .col-lg-4
    %select.col-lg-5#chat-format{name: 'chist[format]'}
      - if (defined?(chist) && chist.format == 'none') || (params.has_key?('format') && params['format'] == 'none')
        %option{value: 'none', selected: 'selected'}=I18n.t('chists.format.none')
      - else
        %option{value: 'none'}=I18n.t('chists.format.none')
      - if (defined?(chist) && chist.format == 'irc') || (params.has_key?('format') && params['format'] == 'irc')
        %option{value: 'irc', selected: 'selected'}=I18n.t('chists.format.irc')
      - else
        %option{value: 'irc'}=I18n.t('chists.format.irc')
      - if (defined?(chist) && chist.format == 'limechat') || (params.has_key?('format') && params['format'] == 'limechat')
        %option{value: 'limechat', selected: 'selected'}=I18n.t('chists.format.limechat')
      - else
        %option{value: 'limechat'}=I18n.t('chists.format.limechat')
      - if (defined?(chist) && chist.format == 'skype') || (params.has_key?('format') && params['format'] == 'skype')
        %option{value: 'skype', selected: 'selected'}=I18n.t('chists.format.skype')
      - else
        %option{value: 'skype'}=I18n.t('chists.format.skype')

    %span{ style: 'margin-left: 2em;' }
      %input{type: 'checkbox', name: 'chist[public]', value: 1, checked: (defined?(chist) && chist.public) || params.has_key?('public')}
      =I18n.t('chists.public')

.form-group
  .col-lg-11
    %textarea.form-control{name: 'chist[chist]', required: true, placeholder: I18n.t('chists.chat'), :rows => "15"}
      =defined?(chist) ? chist.chist_raw : (params['chist'] || '')
